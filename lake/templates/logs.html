{% extends "base_generic.html" %}

{% block content %}
{% load tz %}

<h1 class="p-5 text-center"><span class="status {{ medici_status }}"></span>Medici</h1>

<div class="container pb-5">
  <ul class="list-group">
    {% for l in medici_logs %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
      <span>
        {% if l.lvl_id == 1 %}
          <span class="badge badge-light">TRACE</span>
        {% elif l.lvl_id == 2 %}
          <span class="badge badge-secondary">DEBUG</span>
        {% elif l.lvl_id == 3 %}
          <span class="badge badge-info">INFO</span>
        {% elif l.lvl_id == 4 %}
          <span class="badge badge-warning">WARN</span>
        {% elif l.lvl_id == 5 %}
          <span class="badge badge-dark">ERROR</span>
        {% elif l.lvl_id == 6 %}
          <span class="badge badge-danger">FATAL</span>
        {% endif %}
        <b>{{ l.producer }}</b> {{ l.msg }}
      </span>
      <span class="log-time">{{ l.created_at|timezone:"Europe/Paris"|date:"d.m H:i" }}</span>
    </li>
    {% endfor %}
  </ul>
</div>

<h1 class="p-5 text-center"><span class="status {{ chasqui_status }}"></span>Chasqui</h1>

<div class="container pb-5">
  <ul class="list-group">
    {% for l in chasqui_logs %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
      <span>
        {% if l.lvl_id == 1 %}
          <span class="badge badge-light">TRACE</span>
        {% elif l.lvl_id == 2 %}
          <span class="badge badge-secondary">DEBUG</span>
        {% elif l.lvl_id == 3 %}
          <span class="badge badge-info">INFO</span>
        {% elif l.lvl_id == 4 %}
          <span class="badge badge-warning">WARN</span>
        {% elif l.lvl_id == 5 %}
          <span class="badge badge-dark">ERROR</span>
        {% elif l.lvl_id == 6 %}
          <span class="badge badge-danger">FATAL</span>
        {% endif %}
        <b>{{ l.producer }}</b> {{ l.msg }}
      </span>
      <span class="log-time">{{ l.created_at|timezone:"Europe/Paris"|date:"d.m H:i" }}</span>
    </li>
    {% endfor %}
  </ul>
</div>

{% endblock %}
